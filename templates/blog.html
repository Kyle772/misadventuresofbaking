{% extends 'base.html' %}

{% block head %}
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5973bc32dd739338"></script>

<script type="text/javascript" src="/js/blog.js"></script>
{% endblock %}

{% block content %}
<div data-backimg="{{ pages['contact']['mainImage'] }}" data-shaded="True" class="hero-section short"></div>
<div data-textOverlay="white" data-backImg="{{ blog.mainImage if blog }}" class="page section blog">
    {% if blogs %}
        <div class="main-section constrain">
            <div class="blog-items flex row wrap spc-btwn">
                <div class="w-clearfix w-dyn-items w-row col-1">
                    <div class="section-heading">
                        <h2 class="section-title">All posts</h2>
                        <div class="med-divider"></div>
                    </div>
                    {% for blog in blogs %}
                    <div class="featuredthumbnail w-col w-col-6 w-dyn-item">
                        <a href="/blog/{{ blog.key().id() }}" class="featured-wrapper w-inline-block" data-ix="featured-wrapper">
                            <div>
                                <div data-backimg="{{ blog.mainImage }}/small" class="featured-image"></div>
                            </div>
                            <div class="featured-text">
                                <div class="featured-title">{{ blog.title }}</div>
                                <div class="featured-description">{{ blog.summary }}</div>
                                <div class="featured-details">
                                    <div class="w-clearfix"><img src="{{ author.image }}/blur" class="author-img" sizes="(max-width: 767px) 26px, (max-width: 991px) 3vw, 26px">
                                        <div class="author-title">{{ author.name }}</div>
                                        <div class="thumbnail-date">{{ blog.views }}</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}
